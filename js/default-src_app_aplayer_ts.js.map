{"version":3,"file":"default-src_app_aplayer_ts.js","mappings":"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AAS,2IAA2I,eAAe,oBAAoB,YAAY,iBAAiB,eAAe,oBAAoB,UAAU,2IAA2I,UAAU,sEAAsE,sIAAsI,UAAU,6HAA6H,uJAAuJ,OAAO,uCAAuC,uEAAuE,MAAM,YAAY,yCAAyC,sGAAsG,kCAAkC,kDAAkD,gFAAgF,YAAY,yCAAyC,iFAAiF,kCAAkC,kDAAkD,gFAAgF,WAAW,mCAAmC,cAAc,mCAAmC,qBAAqB,iBAAiB,mGAAmG,qBAAqB,cAAc,wBAAwB,cAAc,GAAG,QAAQ,GAAG,UAA+B;AACl5lC;;;;;;;;;;;ACHA;;;;;;;;;;;;;;;;;;;;;ACAA;AAC8B;AACO;AACyB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,+CAAO;AACjC;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,QAAQ,mDAAO;AACf;AACA;AACA;AACA,QAAQ,6KAAiE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,YAAY,GAAG,gBAAgB;AAClF;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,0EAAgB;AACpB,IAAI,0EAAgB;AACpB,IAAI,0EAAgB;AACpB,IAAI,0EAAgB;AACpB","sources":["webpack://sakurairo-scripts/./node_modules/aplayer/dist/APlayer.min.js","webpack://sakurairo-scripts/./node_modules/aplayer/dist/APlayer.min.css?86a6","webpack://sakurairo-scripts/./src/app/aplayer.ts"],"sourcesContent":["var t={800:function(t,e,i){var s=i(90);t.exports=function(t){t=t||{};var e=\"\",i=s.$each,a=t.audio,r=(t.$value,t.$index,s.$escape),o=t.theme,n=t.index;return i(a,(function(t,i){e+=' <li><span class=\"aplayer-list-cur\" style=\"background-color: ',e+=r(t.theme||o),e+='\"></span> <span class=\"aplayer-list-index\">',e+=r(i+n),e+='</span><span class=\"aplayer-list-title\">',e+=r(t.name),e+='</span><span class=\"aplayer-list-author\">',e+=r(t.artist),e+=\"</span></li> \"})),e}},107:function(t,e,i){var s=i(90);t.exports=function(t){t=t||{};var e=\"\",i=s.$each,a=t.lyrics,r=(t.$value,t.$index,s.$escape);return i(a,(function(t,i){e+=\" <p \",0===i&&(e+=' class=\"aplayer-lrc-current\" '),e+=\">\",e+=r(t[1]),e+=\"</p> \"})),e}},336:function(t,e,i){var s=i(90);t.exports=function(t){var e=\"\",a=(t=t||{}).options,r=t.cover,o=s.$escape,n=t.icons,l=function(t){return e+=t},h=t.getObject;t.theme,t.audio,t.index;return a.fixed?(e+=' <ol class=\"aplayer-list',a.listFolded&&(e+=\" aplayer-list-hide\"),e+='\"> ',l(i(800)(h({theme:a.theme,audio:a.audio,index:1}))),e+=' </ol><div class=\"aplayer-body\"><div class=\"aplayer-pic\" style=\"',r&&(e+=\"background-image:url(&quot;\",e+=o(r),e+=\"&quot;);\"),e+=\"background-color: \",e+=o(a.theme),e+='\"><div class=\"aplayer-button aplayer-play\">',e+=n.play,e+='</div></div><div class=\"aplayer-info\" style=\"display:none\"><div class=\"aplayer-music\"><span class=\"aplayer-title\">No audio</span> <span class=\"aplayer-author\"></span></div><div class=\"aplayer-controller\"><div class=\"aplayer-bar-wrap\"><div class=\"aplayer-bar\"><div class=\"aplayer-loaded\" style=\"width:0\"></div><div class=\"aplayer-played\" style=\"width:0;background: ',e+=o(a.theme),e+='\"><span class=\"aplayer-thumb\" style=\"background: ',e+=o(a.theme),e+='\"><span class=\"aplayer-loading-icon\">',e+=n.loading,e+='</span></span></div></div></div><div class=\"aplayer-time\"><span class=\"aplayer-time-inner\"><span class=\"aplayer-ptime\">00:00</span> / <span class=\"aplayer-dtime\">00:00</span> </span><span class=\"aplayer-icon aplayer-icon-back\"> ',e+=n.skip,e+=' </span><span class=\"aplayer-icon aplayer-icon-play\"> ',e+=n.play,e+=' </span><span class=\"aplayer-icon aplayer-icon-forward\"> ',e+=n.skip,e+=' </span><div class=\"aplayer-volume-wrap\"><button type=\"button\" class=\"aplayer-icon aplayer-icon-volume-down\"> ',e+=n.volumeDown,e+=' </button><div class=\"aplayer-volume-bar-wrap\"><div class=\"aplayer-volume-bar\"><div class=\"aplayer-volume\" style=\"height:80%;background: ',e+=o(a.theme),e+='\"></div></div></div></div><button type=\"button\" class=\"aplayer-icon aplayer-icon-order\"> ',\"list\"===a.order?e+=n.orderList:\"random\"===a.order&&(e+=n.orderRandom),e+=' </button> <button type=\"button\" class=\"aplayer-icon aplayer-icon-loop\"> ',\"one\"===a.loop?e+=n.loopOne:\"all\"===a.loop?e+=n.loopAll:\"none\"===a.loop&&(e+=n.loopNone),e+=' </button> <button type=\"button\" class=\"aplayer-icon aplayer-icon-menu\"> ',e+=n.menu,e+=' </button> <button type=\"button\" class=\"aplayer-icon aplayer-icon-lrc\"> ',e+=n.lrc,e+=' </button></div></div></div><div class=\"aplayer-notice\"></div><div class=\"aplayer-miniswitcher\"><button class=\"aplayer-icon\">',e+=n.right,e+='</button></div></div><div class=\"aplayer-lrc\"><div class=\"aplayer-lrc-contents\" style=\"transform:translateY(0);-webkit-transform:translateY(0)\"></div></div> '):(e+=' <div class=\"aplayer-body\"><div class=\"aplayer-pic\" style=\"',r&&(e+=\"background-image:url(&quot;\",e+=o(r),e+=\"&quot;);\"),e+=\"background-color: \",e+=o(a.theme),e+='\"><div class=\"aplayer-button aplayer-play\">',e+=n.play,e+='</div></div><div class=\"aplayer-info\"><div class=\"aplayer-music\"><span class=\"aplayer-title\">No audio</span> <span class=\"aplayer-author\"></span></div><div class=\"aplayer-lrc\"><div class=\"aplayer-lrc-contents\" style=\"transform:translateY(0);-webkit-transform:translateY(0)\"></div></div><div class=\"aplayer-controller\"><div class=\"aplayer-bar-wrap\"><div class=\"aplayer-bar\"><div class=\"aplayer-loaded\" style=\"width:0\"></div><div class=\"aplayer-played\" style=\"width:0;background: ',e+=o(a.theme),e+='\"><span class=\"aplayer-thumb\" style=\"background: ',e+=o(a.theme),e+='\"><span class=\"aplayer-loading-icon\">',e+=n.loading,e+='</span></span></div></div></div><div class=\"aplayer-time\"><span class=\"aplayer-time-inner\"><span class=\"aplayer-ptime\">00:00</span> / <span class=\"aplayer-dtime\">00:00</span> </span><span class=\"aplayer-icon aplayer-icon-back\"> ',e+=n.skip,e+=' </span><span class=\"aplayer-icon aplayer-icon-play\"> ',e+=n.play,e+=' </span><span class=\"aplayer-icon aplayer-icon-forward\"> ',e+=n.skip,e+=' </span><div class=\"aplayer-volume-wrap\"><button type=\"button\" class=\"aplayer-icon aplayer-icon-volume-down\"> ',e+=n.volumeDown,e+=' </button><div class=\"aplayer-volume-bar-wrap\"><div class=\"aplayer-volume-bar\"><div class=\"aplayer-volume\" style=\"height:80%;background: ',e+=o(a.theme),e+='\"></div></div></div></div><button type=\"button\" class=\"aplayer-icon aplayer-icon-order\"> ',\"list\"===a.order?e+=n.orderList:\"random\"===a.order&&(e+=n.orderRandom),e+=' </button> <button type=\"button\" class=\"aplayer-icon aplayer-icon-loop\"> ',\"one\"===a.loop?e+=n.loopOne:\"all\"===a.loop?e+=n.loopAll:\"none\"===a.loop&&(e+=n.loopNone),e+=' </button> <button type=\"button\" class=\"aplayer-icon aplayer-icon-menu\"> ',e+=n.menu,e+=' </button> <button type=\"button\" class=\"aplayer-icon aplayer-icon-lrc\"> ',e+=n.lrc,e+=' </button></div></div></div><div class=\"aplayer-notice\"></div><div class=\"aplayer-miniswitcher\"><button class=\"aplayer-icon\">',e+=n.right,e+='</button></div></div><ol class=\"aplayer-list',a.listFolded&&(e+=\" aplayer-list-hide\"),e+='\"> ',l(i(800)(h({theme:a.theme,audio:a.audio,index:1}))),e+=\" </ol> \"),e}},42:function(t,e,i){\n/*! art-template@runtime | https://github.com/aui/art-template */\nvar s=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==i.g?i.g:{},a=Object.create(s),r=/[\"&'<>]/;function o(t){return\"string\"!=typeof t&&(t=null==t?\"\":\"function\"==typeof t?o(t.call(t)):JSON.stringify(t)),t}a.$escape=function(t){return function(t){var e=\"\"+t,i=r.exec(e);if(!i)return t;var s=\"\",a=void 0,o=void 0,n=void 0;for(a=i.index,o=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:n=\"&#34;\";break;case 38:n=\"&#38;\";break;case 39:n=\"&#39;\";break;case 60:n=\"&#60;\";break;case 62:n=\"&#62;\";break;default:continue}o!==a&&(s+=e.substring(o,a)),o=a+1,s+=n}return o!==a?s+e.substring(o,a):s}(o(t))},a.$each=function(t,e){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)e(t[i],i);else for(var a in t)e(t[a],a)},t.exports=a},90:function(t,e,i){t.exports=i(42)},160:function(t,e,i){var s,a;s=function(){if(\"object\"==typeof window&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var t=function(t,e){return\"HTML\"===t.nodeName?-e:t.getBoundingClientRect().top+e},e=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},i=function(t,i,s,a){return s>a?i:t+(i-t)*e(s/a)},s=function(e,s,a,r){s=s||500;var o=(r=r||window).scrollTop||window.pageYOffset;if(\"number\"==typeof e)var n=parseInt(e);else n=t(e,o);var l=Date.now(),h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,15)},p=function(){var t=Date.now()-l;r!==window?r.scrollTop=i(o,n,t,s):window.scroll(0,i(o,n,t,s)),t>s?\"function\"==typeof a&&a(e):h(p)};p()},a=function(t){if(!t.defaultPrevented){t.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var e=document.getElementById(this.hash.substring(1));if(!e)return;s(e,500,(function(t){location.replace(\"#\"+t.id)}))}};return document.addEventListener(\"DOMContentLoaded\",(function(){for(var t,e=document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])'),i=e.length;t=e[--i];)t.addEventListener(\"click\",a,!1)})),s}},void 0===(a=\"function\"==typeof s?s.call(e,i,e,t):s)||(t.exports=a)},112:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 32 32\"><path d=\"M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z\"></path></svg>'},133:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 29 32\"><path d=\"M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z\"></path></svg>'},537:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 29 32\"><path d=\"M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z\"></path></svg>'},155:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 33 32\"><path d=\"M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z\"></path></svg>'},812:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 32 32\"><path d=\"M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z\"></path></svg>'},440:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 22 32\"><path d=\"M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z\"></path></svg>'},690:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 32 32\"><path d=\"M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z\"></path></svg>'},343:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 32 32\"><path d=\"M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z\"></path></svg>'},723:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 17 32\"><path d=\"M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z\"></path></svg>'},7:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 16 31\"><path d=\"M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z\"></path></svg>'},381:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 32 32\"><path d=\"M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z\"></path></svg>'},632:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 32 32\"><path d=\"M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z\"></path></svg>'},813:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 28 32\"><path d=\"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z\"></path></svg>'},480:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 28 32\"><path d=\"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z\"></path></svg>'},848:function(t){t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 28 32\"><path d=\"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z\"></path></svg>'}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var s={};!function(){i.d(s,{Z:function(){return Q}});const t=/mobile/i.test(window.navigator.userAgent);var e={secondToTime:t=>{const e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),s=Math.floor(t-3600*e-60*i);return(e>0?[e,i,s]:[i,s]).map((t=>t<10?\"0\"+t:\"\"+t)).join(\":\")},isMobile:t,storage:{set:(t,e)=>{localStorage.setItem(t,e)},get:t=>localStorage.getItem(t)},nameMap:{dragStart:t?\"touchstart\":\"mousedown\",dragMove:t?\"touchmove\":\"mousemove\",dragEnd:t?\"touchend\":\"mouseup\"},randomOrder:t=>function(t){for(let e=t.length-1;e>=0;e--){const i=Math.floor(Math.random()*(e+1)),s=t[i];t[i]=t[e],t[e]=s}return t}([...Array(t)].map((function(t,e){return e})))},a=i(7),r=i.n(a),o=i(723),n=i.n(o),l=i(848),h=i.n(l),p=i(813),d=i.n(p),c=i(480),u=i.n(c),y=i(343),m=i.n(y),v=i(690),g=i.n(v),w=i(440),f=i.n(w),b=i(133),x=i.n(b),M=i(155),L=i.n(M),q=i(537),T=i.n(q),k=i(112),B=i.n(k),S=i(381),E=i.n(S),O=i(632),H=i.n(O),A=i(812),z=i.n(A);var C={play:r(),pause:n(),volumeUp:h(),volumeDown:d(),volumeOff:u(),orderRandom:m(),orderList:g(),menu:f(),loopAll:x(),loopOne:L(),loopNone:T(),loading:B(),right:E(),skip:H(),lrc:z()},N=i(336),I=i.n(N);var $=class{constructor(t){this.container=t.container,this.options=t.options,this.randomOrder=t.randomOrder,this.init()}init(){let t=\"\";this.options.audio.length&&(t=\"random\"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=I()({options:this.options,icons:C,cover:t,getObject:t=>t}),this.lrc=this.container.querySelector(\".aplayer-lrc-contents\"),this.lrcWrap=this.container.querySelector(\".aplayer-lrc\"),this.ptime=this.container.querySelector(\".aplayer-ptime\"),this.info=this.container.querySelector(\".aplayer-info\"),this.time=this.container.querySelector(\".aplayer-time\"),this.barWrap=this.container.querySelector(\".aplayer-bar-wrap\"),this.button=this.container.querySelector(\".aplayer-button\"),this.body=this.container.querySelector(\".aplayer-body\"),this.list=this.container.querySelector(\".aplayer-list\"),this.listCurs=this.container.querySelectorAll(\".aplayer-list-cur\"),this.played=this.container.querySelector(\".aplayer-played\"),this.loaded=this.container.querySelector(\".aplayer-loaded\"),this.thumb=this.container.querySelector(\".aplayer-thumb\"),this.volume=this.container.querySelector(\".aplayer-volume\"),this.volumeBar=this.container.querySelector(\".aplayer-volume-bar\"),this.volumeButton=this.container.querySelector(\".aplayer-time button\"),this.volumeBarWrap=this.container.querySelector(\".aplayer-volume-bar-wrap\"),this.loop=this.container.querySelector(\".aplayer-icon-loop\"),this.order=this.container.querySelector(\".aplayer-icon-order\"),this.menu=this.container.querySelector(\".aplayer-icon-menu\"),this.pic=this.container.querySelector(\".aplayer-pic\"),this.title=this.container.querySelector(\".aplayer-title\"),this.author=this.container.querySelector(\".aplayer-author\"),this.dtime=this.container.querySelector(\".aplayer-dtime\"),this.notice=this.container.querySelector(\".aplayer-notice\"),this.miniSwitcher=this.container.querySelector(\".aplayer-miniswitcher\"),this.skipBackButton=this.container.querySelector(\".aplayer-icon-back\"),this.skipForwardButton=this.container.querySelector(\".aplayer-icon-forward\"),this.skipPlayButton=this.container.querySelector(\".aplayer-icon-play\"),this.lrcButton=this.container.querySelector(\".aplayer-icon-lrc\")}};var P=class{constructor(t){this.elements={},this.elements.volume=t.volume,this.elements.played=t.played,this.elements.loaded=t.loaded}set(t,e,i){e=Math.max(e,0),e=Math.min(e,1),this.elements[t].style[i]=100*e+\"%\"}get(t,e){return parseFloat(this.elements[t].style[e])/100}};var F=class{constructor(t){this.storageName=t.options.storageName,this.data=JSON.parse(e.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||t.options.volume}get(t){return this.data[t]}set(t,i){this.data[t]=i,e.storage.set(this.storageName,JSON.stringify(this.data))}},W=i(107),R=i.n(W);var j=class{constructor(t){this.container=t.container,this.async=t.async,this.player=t.player,this.parsed=[],this.index=0,this.current=[]}show(){this.player.events.trigger(\"lrcshow\"),this.player.template.lrcWrap.classList.remove(\"aplayer-lrc-hide\")}hide(){this.player.events.trigger(\"lrchide\"),this.player.template.lrcWrap.classList.add(\"aplayer-lrc-hide\")}toggle(){this.player.template.lrcWrap.classList.contains(\"aplayer-lrc-hide\")?this.show():this.hide()}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||t<this.current[this.index][0]||!this.current[this.index+1]||t>=this.current[this.index+1][0])for(let e=0;e<this.current.length;e++)t>=this.current[e][0]&&(!this.current[e+1]||t<this.current[e+1][0])&&(this.index=e,this.container.style.transform=`translateY(${16*-this.index}px)`,this.container.style.webkitTransform=`translateY(${16*-this.index}px)`,this.container.getElementsByClassName(\"aplayer-lrc-current\")[0].classList.remove(\"aplayer-lrc-current\"),this.container.getElementsByTagName(\"p\")[e].classList.add(\"aplayer-lrc-current\"))}switch(t){if(!this.parsed[t])if(this.async){this.parsed[t]=[[\"00:00\",\"Loading\"]];const e=new XMLHttpRequest;e.onreadystatechange=()=>{t===this.player.list.index&&4===e.readyState&&(e.status>=200&&e.status<300||304===e.status?this.parsed[t]=this.parse(e.responseText):(this.player.notice(`LRC file request fails: status ${e.status}`),this.parsed[t]=[[\"00:00\",\"Not available\"]]),this.container.innerHTML=R()({lyrics:this.parsed[t]}),this.update(0),this.current=this.parsed[t])};const i=this.player.list.audios[t].lrc;e.open(\"get\",i,!0),e.send(null)}else this.player.list.audios[t].lrc?this.parsed[t]=this.parse(this.player.list.audios[t].lrc):this.parsed[t]=[[\"00:00\",\"Not available\"]];this.container.innerHTML=R()({lyrics:this.parsed[t]}),this.current=this.parsed[t],this.update(0)}parse(t){if(t){t.startsWith('\"')&&t.endsWith('\"')&&(t=JSON.parse(t));const e=(t=t.replace(/([^\\]^\\n])\\[/g,((t,e)=>e+\"\\n[\"))).split(\"\\n\");let i=[];const s=e.length;for(let t=0;t<s;t++){const s=e[t].match(/\\[(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?]/g),a=e[t].replace(/.*\\[(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?]/g,\"\").replace(/<(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?>/g,\"\").replace(/^\\s+|\\s+$/g,\"\");if(s){const t=s.length;for(let e=0;e<t;e++){const t=/\\[(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?]/.exec(s[e]),r=60*t[1]+parseInt(t[2])+(t[4]?parseInt(t[4])/(2===(t[4]+\"\").length?100:1e3):0);i.push([r,a])}}}return i=i.filter((t=>t[1])),i.sort(((t,e)=>t[0]-e[0])),i}return[]}remove(t){this.parsed.splice(t,1)}clear(){this.parsed=[],this.container.innerHTML=\"\"}};var U=class{constructor(t){this.player=t,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),e.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}initPlayButton(){this.player.template.pic.addEventListener(\"click\",(()=>{this.player.toggle()}))}initPlayBar(){const t=t=>{let i=((t.clientX||t.changedTouches[0].clientX)-this.player.template.barWrap.getBoundingClientRect().left)/this.player.template.barWrap.clientWidth;i=Math.max(i,0),i=Math.min(i,1),this.player.bar.set(\"played\",i,\"width\"),this.player.lrc&&this.player.lrc.update(i*this.player.duration),this.player.template.ptime.innerHTML=e.secondToTime(i*this.player.duration)},i=s=>{document.removeEventListener(e.nameMap.dragEnd,i),document.removeEventListener(e.nameMap.dragMove,t);let a=((s.clientX||s.changedTouches[0].clientX)-this.player.template.barWrap.getBoundingClientRect().left)/this.player.template.barWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),this.player.bar.set(\"played\",a,\"width\"),this.player.seek(a*this.player.duration),this.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(e.nameMap.dragStart,(()=>{this.player.disableTimeupdate=!0,document.addEventListener(e.nameMap.dragMove,t),document.addEventListener(e.nameMap.dragEnd,i)}))}initVolumeButton(){this.player.template.volumeButton.addEventListener(\"click\",(()=>{this.player.audio.muted?this.player.volume(this.player.audio.volume,!0):(this.player.audio.muted=!0,this.player.switchVolumeIcon(),this.player.bar.set(\"volume\",0,\"height\"))}));const t=t=>{let e=1-((t.clientY||t.changedTouches[0].clientY)-this.player.template.volumeBar.getBoundingClientRect().top)/this.player.template.volumeBar.clientHeight;e=Math.max(e,0),e=Math.min(e,1),this.player.volume(e)},i=s=>{this.player.template.volumeBarWrap.classList.remove(\"aplayer-volume-bar-wrap-active\"),document.removeEventListener(e.nameMap.dragEnd,i),document.removeEventListener(e.nameMap.dragMove,t);let a=1-((s.clientY||s.changedTouches[0].clientY)-this.player.template.volumeBar.getBoundingClientRect().top)/this.player.template.volumeBar.clientHeight;a=Math.max(a,0),a=Math.min(a,1),this.player.volume(a)};this.player.template.volumeBarWrap.addEventListener(e.nameMap.dragStart,(()=>{this.player.template.volumeBarWrap.classList.add(\"aplayer-volume-bar-wrap-active\"),document.addEventListener(e.nameMap.dragMove,t),document.addEventListener(e.nameMap.dragEnd,i)}))}initOrderButton(){this.player.template.order.addEventListener(\"click\",(()=>{\"list\"===this.player.options.order?(this.player.options.order=\"random\",this.player.template.order.innerHTML=C.orderRandom):\"random\"===this.player.options.order&&(this.player.options.order=\"list\",this.player.template.order.innerHTML=C.orderList)}))}initLoopButton(){this.player.template.loop.addEventListener(\"click\",(()=>{this.player.list.audios.length>1?\"one\"===this.player.options.loop?(this.player.options.loop=\"none\",this.player.template.loop.innerHTML=C.loopNone):\"none\"===this.player.options.loop?(this.player.options.loop=\"all\",this.player.template.loop.innerHTML=C.loopAll):\"all\"===this.player.options.loop&&(this.player.options.loop=\"one\",this.player.template.loop.innerHTML=C.loopOne):\"one\"===this.player.options.loop||\"all\"===this.player.options.loop?(this.player.options.loop=\"none\",this.player.template.loop.innerHTML=C.loopNone):\"none\"===this.player.options.loop&&(this.player.options.loop=\"all\",this.player.template.loop.innerHTML=C.loopAll)}))}initMenuButton(){this.player.template.menu.addEventListener(\"click\",(()=>{this.player.list.toggle()}))}initMiniSwitcher(){this.player.template.miniSwitcher.addEventListener(\"click\",(()=>{this.player.setMode(\"mini\"===this.player.mode?\"normal\":\"mini\")}))}initSkipButton(){this.player.template.skipBackButton.addEventListener(\"click\",(()=>{this.player.skipBack()})),this.player.template.skipForwardButton.addEventListener(\"click\",(()=>{this.player.skipForward()})),this.player.template.skipPlayButton.addEventListener(\"click\",(()=>{this.player.toggle()}))}initLrcButton(){this.player.template.lrcButton.addEventListener(\"click\",(()=>{this.player.template.lrcButton.classList.contains(\"aplayer-icon-lrc-inactivity\")?(this.player.template.lrcButton.classList.remove(\"aplayer-icon-lrc-inactivity\"),this.player.lrc&&this.player.lrc.show()):(this.player.template.lrcButton.classList.add(\"aplayer-icon-lrc-inactivity\"),this.player.lrc&&this.player.lrc.hide())}))}};var Y=class{constructor(t){this.player=t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.types=[\"loading\"],this.init()}init(){this.types.forEach((t=>{this[`init${t}Checker`]()}))}initloadingChecker(){let t=0,e=0,i=!1;this.loadingChecker=setInterval((()=>{this.enableloadingChecker&&(e=this.player.audio.currentTime,i||e!==t||this.player.audio.paused||(this.player.container.classList.add(\"aplayer-loading\"),i=!0),i&&e>t&&!this.player.audio.paused&&(this.player.container.classList.remove(\"aplayer-loading\"),i=!1),t=e)}),100)}enable(t){this[`enable${t}Checker`]=!0,\"fps\"===t&&this.initfpsChecker()}disable(t){this[`enable${t}Checker`]=!1}destroy(){this.types.forEach((t=>{this[`enable${t}Checker`]=!1,this[`${t}Checker`]&&clearInterval(this[`${t}Checker`])}))}};var D=class{constructor(){this.events={},this.audioEvents=[\"abort\",\"canplay\",\"canplaythrough\",\"durationchange\",\"emptied\",\"ended\",\"error\",\"loadeddata\",\"loadedmetadata\",\"loadstart\",\"mozaudioavailable\",\"pause\",\"play\",\"playing\",\"progress\",\"ratechange\",\"seeked\",\"seeking\",\"stalled\",\"suspend\",\"timeupdate\",\"volumechange\",\"waiting\"],this.playerEvents=[\"destroy\",\"listshow\",\"listhide\",\"listadd\",\"listremove\",\"listswitch\",\"listclear\",\"noticeshow\",\"noticehide\",\"lrcshow\",\"lrchide\"]}on(t,e){this.type(t)&&\"function\"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}trigger(t,e){if(this.events[t]&&this.events[t].length)for(let i=0;i<this.events[t].length;i++)this.events[t][i](e)}type(t){return-1!==this.playerEvents.indexOf(t)?\"player\":-1!==this.audioEvents.indexOf(t)?\"audio\":(console.error(`Unknown event name: ${t}`),null)}},V=i(800),X=i.n(V),J=i(160),Z=i.n(J);var _=class{constructor(t){this.player=t,this.index=0,this.audios=this.player.options.audio,this.showing=!0,this.player.template.list.style.height=`${Math.min(this.player.template.list.scrollHeight,this.player.options.listMaxHeight)}px`,this.bindEvents()}bindEvents(){this.player.template.list.addEventListener(\"click\",(t=>{let e;e=\"LI\"===t.target.tagName.toUpperCase()?t.target:t.target.parentElement;const i=parseInt(e.getElementsByClassName(\"aplayer-list-index\")[0].innerHTML)-1;i!==this.index?(this.switch(i),this.player.play()):this.player.toggle()}))}show(){this.showing=!0,this.player.template.list.scrollTop=33*this.index,this.player.template.list.style.height=`${Math.min(this.player.template.list.scrollHeight,this.player.options.listMaxHeight)}px`,this.player.events.trigger(\"listshow\")}hide(){this.showing=!1,this.player.template.list.style.height=`${Math.min(this.player.template.list.scrollHeight,this.player.options.listMaxHeight)}px`,setTimeout((()=>{this.player.template.list.style.height=\"0px\",this.player.events.trigger(\"listhide\")}),0)}toggle(){this.showing?this.hide():this.show()}add(t){this.player.events.trigger(\"listadd\",{audios:t}),\"[object Array]\"!==Object.prototype.toString.call(t)&&(t=[t]),t.map((t=>(t.name=t.name||t.title||\"Audio name\",t.artist=t.artist||t.author||\"Audio artist\",t.cover=t.cover||t.pic,t.type=t.type||\"normal\",t)));const i=!(this.audios.length>1),s=0===this.audios.length;this.player.template.list.innerHTML+=X()({theme:this.player.options.theme,audio:t,index:this.audios.length+1}),this.audios=this.audios.concat(t),i&&this.audios.length>1&&this.player.container.classList.add(\"aplayer-withlist\"),this.player.randomOrder=e.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(\".aplayer-list-cur\"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=t.theme||this.player.options.theme,s&&(\"random\"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}remove(t){if(this.player.events.trigger(\"listremove\",{index:t}),this.audios[t])if(this.audios.length>1){const e=this.player.container.querySelectorAll(\".aplayer-list li\");e[t].remove(),this.audios.splice(t,1),this.player.lrc&&this.player.lrc.remove(t),t===this.index&&(this.audios[t]?this.switch(t):this.switch(t-1)),this.index>t&&this.index--;for(let i=t;i<e.length;i++)e[i].getElementsByClassName(\"aplayer-list-index\")[0].textContent=i;1===this.audios.length&&this.player.container.classList.remove(\"aplayer-withlist\"),this.player.template.listCurs=this.player.container.querySelectorAll(\".aplayer-list-cur\")}else this.clear()}switch(t){if(this.player.events.trigger(\"listswitch\",{index:t}),void 0!==t&&this.audios[t]){this.index=t;const i=this.audios[this.index];this.player.template.pic.style.backgroundImage=i.cover?`url('${i.cover}')`:\"\",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=i.name,this.player.template.author.innerHTML=i.artist?\" - \"+i.artist:\"\";const s=this.player.container.getElementsByClassName(\"aplayer-list-light\")[0];s&&s.classList.remove(\"aplayer-list-light\"),this.player.container.querySelectorAll(\".aplayer-list li\")[this.index].classList.add(\"aplayer-list-light\"),Z()(33*this.index,500,null,this.player.template.list),this.player.setAudio(i),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=e.secondToTime(this.player.duration))}}clear(){this.player.events.trigger(\"listclear\"),this.index=0,this.player.container.classList.remove(\"aplayer-withlist\"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src=\"\",this.player.template.list.innerHTML=\"\",this.player.template.pic.style.backgroundImage=\"\",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=\"No audio\",this.player.template.author.innerHTML=\"\",this.player.bar.set(\"loaded\",0,\"width\"),this.player.template.dtime.innerHTML=e.secondToTime(0)}};const G=[];var K=class{constructor(t){if(this.options=(t=>{const e={container:t.element||document.getElementsByClassName(\"aplayer\")[0],mini:t.narrow||t.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:t.showlrc||t.lrc||0,preload:\"metadata\",theme:\"#b7daff\",loop:\"all\",order:\"list\",volume:.7,listFolded:t.fixed,listMaxHeight:t.listmaxheight||250,audio:t.music||[],storageName:\"aplayer-setting\"};for(const i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i]);return t.listMaxHeight=parseFloat(t.listMaxHeight),\"[object Array]\"!==Object.prototype.toString.call(t.audio)&&(t.audio=[t.audio]),t.audio.map((t=>(t.name=t.name||t.title||\"Audio name\",t.artist=t.artist||t.author||\"Audio artist\",t.cover=t.cover||t.pic,t.type=t.type||\"normal\",t))),t.audio.length<=1&&\"one\"===t.loop&&(t.loop=\"all\"),t})(t),this.container=this.options.container,this.paused=!0,this.playedPromise=Promise.resolve(),this.mode=\"normal\",this.randomOrder=e.randomOrder(this.options.audio.length),this.container.classList.add(\"aplayer\"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add(\"aplayer-withlrc\"),this.options.audio.length>1&&this.container.classList.add(\"aplayer-withlist\"),e.isMobile&&this.container.classList.add(\"aplayer-mobile\"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add(\"aplayer-arrow\"),2===this.options.lrcType||!0===this.options.lrcType){const t=this.container.getElementsByClassName(\"aplayer-lrc-content\");for(let e=0;e<t.length;e++)this.options.audio[e]&&(this.options.audio[e].lrc=t[e].innerHTML)}this.template=new $({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add(\"aplayer-fixed\"),this.template.body.style.width=this.template.body.offsetWidth-18+\"px\"),this.options.mini&&(this.setMode(\"mini\"),this.template.info.style.display=\"block\"),this.template.info.offsetWidth<200&&this.template.time.classList.add(\"aplayer-time-narrow\"),this.options.lrcType&&(this.lrc=new j({container:this.template.lrc,async:3===this.options.lrcType,player:this})),this.events=new D,this.storage=new F(this),this.bar=new P(this.template),this.controller=new U(this),this.timer=new Y(this),this.list=new _(this),this.initAudio(),this.bindEvents(),\"random\"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),G.push(this)}initAudio(){this.audio=document.createElement(\"audio\"),this.audio.preload=this.options.preload;for(let t=0;t<this.events.audioEvents.length;t++)this.audio.addEventListener(this.events.audioEvents[t],(e=>{this.events.trigger(this.events.audioEvents[t],e)}));this.volume(this.storage.get(\"volume\"),!0)}bindEvents(){let t;this.on(\"play\",(()=>{this.paused&&this.setUIPlaying()})),this.on(\"pause\",(()=>{this.paused||this.setUIPaused()})),this.on(\"timeupdate\",(()=>{if(!this.disableTimeupdate){this.bar.set(\"played\",this.audio.currentTime/this.duration,\"width\"),this.lrc&&this.lrc.update();const t=e.secondToTime(this.audio.currentTime);this.template.ptime.innerHTML!==t&&(this.template.ptime.innerHTML=t)}})),this.on(\"durationchange\",(()=>{1!==this.duration&&(this.template.dtime.innerHTML=e.secondToTime(this.duration))})),this.on(\"loadedmetadata\",(()=>{this.seek(0),this.paused||this.audio.play()})),this.on(\"canplay\",(()=>{const t=this.audio.buffered.length?this.audio.buffered.end(this.audio.buffered.length-1)/this.duration:0;this.bar.set(\"loaded\",t,\"width\")})),this.on(\"progress\",(()=>{const t=this.audio.buffered.length?this.audio.buffered.end(this.audio.buffered.length-1)/this.duration:0;this.bar.set(\"loaded\",t,\"width\")})),this.on(\"error\",(()=>{this.list.audios.length>1?(this.notice(\"An audio error has occurred, player will skip forward in 2 seconds.\"),t=setTimeout((()=>{this.skipForward(),this.paused||this.play()}),2e3)):1===this.list.audios.length&&this.notice(\"An audio error has occurred.\")})),this.events.on(\"listswitch\",(()=>{t&&clearTimeout(t)})),this.on(\"ended\",(()=>{\"none\"===this.options.loop?\"list\"===this.options.order?this.list.index<this.list.audios.length-1?(this.list.switch((this.list.index+1)%this.list.audios.length),this.play()):(this.list.switch((this.list.index+1)%this.list.audios.length),this.pause()):\"random\"===this.options.order&&(this.randomOrder.indexOf(this.list.index)<this.randomOrder.length-1?(this.list.switch(this.nextIndex()),this.play()):(this.list.switch(this.nextIndex()),this.pause())):\"one\"===this.options.loop?(this.list.switch(this.list.index),this.play()):\"all\"===this.options.loop&&(this.skipForward(),this.play())}))}setAudio(t){this.hls&&(this.hls.destroy(),this.hls=null);let e=t.type;this.options.customAudioType&&this.options.customAudioType[e]?\"[object Function]\"===Object.prototype.toString.call(this.options.customAudioType[e])?this.options.customAudioType[e](this.audio,t,this):console.error(`Illegal customType: ${e}`):(e&&\"auto\"!==e||(e=/m3u8(#|\\?|$)/i.exec(t.url)?\"hls\":\"normal\"),\"hls\"===e?window.Hls.isSupported()?(this.hls=new window.Hls,this.hls.loadSource(t.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType(\"application/x-mpegURL\")||this.audio.canPlayType(\"application/vnd.apple.mpegURL\")?this.audio.src=t.url:this.notice(\"Error: HLS is not supported.\"):\"normal\"===e&&(this.audio.src=t.url))}theme(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[e]&&(this.list.audios[e].theme=t),this.template.listCurs[e]&&(this.template.listCurs[e].style.backgroundColor=t),e===this.list.index&&(this.template.pic.style.backgroundColor=t,this.template.played.style.background=t,this.template.thumb.style.background=t,this.template.volume.style.background=t)}seek(t){t=Math.max(t,0),t=Math.min(t,this.duration),this.audio.currentTime=t,this.bar.set(\"played\",t/this.duration,\"width\"),this.template.ptime.innerHTML=e.secondToTime(t)}get duration(){return isNaN(this.audio.duration)?0:this.audio.duration}setUIPlaying(){if(this.paused&&(this.paused=!1,this.template.button.classList.remove(\"aplayer-play\"),this.template.button.classList.add(\"aplayer-pause\"),this.template.button.innerHTML=\"\",setTimeout((()=>{this.template.button.innerHTML=C.pause}),100),this.template.skipPlayButton.innerHTML=C.pause),this.timer.enable(\"loading\"),this.options.mutex)for(let t=0;t<G.length;t++)this!==G[t]&&G[t].pause()}play(){this.setUIPlaying();const t=this.audio.play();t&&t.catch((t=>{console.warn(t),\"NotAllowedError\"===t.name&&this.setUIPaused()}))}setUIPaused(){this.paused||(this.paused=!0,this.template.button.classList.remove(\"aplayer-pause\"),this.template.button.classList.add(\"aplayer-play\"),this.template.button.innerHTML=\"\",setTimeout((()=>{this.template.button.innerHTML=C.play}),100),this.template.skipPlayButton.innerHTML=C.play),this.container.classList.remove(\"aplayer-loading\"),this.timer.disable(\"loading\")}pause(){this.setUIPaused(),this.audio.pause()}switchVolumeIcon(){this.volume()>=.95?this.template.volumeButton.innerHTML=C.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=C.volumeDown:this.template.volumeButton.innerHTML=C.volumeOff}volume(t,e){return t=parseFloat(t),isNaN(t)||(t=Math.max(t,0),t=Math.min(t,1),this.bar.set(\"volume\",t,\"height\"),e||this.storage.set(\"volume\",t),this.audio.volume=t,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}on(t,e){this.events.on(t,e)}toggle(){this.template.button.classList.contains(\"aplayer-play\")?this.play():this.template.button.classList.contains(\"aplayer-pause\")&&this.pause()}switchAudio(t){this.list.switch(t)}addAudio(t){this.list.add(t)}removeAudio(t){this.list.remove(t)}destroy(){G.splice(G.indexOf(this),1),this.pause(),this.container.innerHTML=\"\",this.audio.src=\"\",this.timer.destroy(),this.events.trigger(\"destroy\")}setMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"normal\";this.mode=t,\"mini\"===t?this.container.classList.add(\"aplayer-narrow\"):\"normal\"===t&&this.container.classList.remove(\"aplayer-narrow\")}notice(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=t,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger(\"noticeshow\",{text:t}),e&&(this.noticeTime=setTimeout((()=>{this.template.notice.style.opacity=0,this.events.trigger(\"noticehide\")}),e))}prevIndex(){if(!(this.list.audios.length>1))return 0;if(\"list\"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if(\"random\"===this.options.order){const t=this.randomOrder.indexOf(this.list.index);return 0===t?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[t-1]}}nextIndex(){if(!(this.list.audios.length>1))return 0;if(\"list\"===this.options.order)return(this.list.index+1)%this.list.audios.length;if(\"random\"===this.options.order){const t=this.randomOrder.indexOf(this.list.index);return t===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[t+1]}}skipBack(){this.list.switch(this.prevIndex())}skipForward(){this.list.switch(this.nextIndex())}static get version(){return\"1.10.1\"}};console.log(\"\\n %c APlayer v1.10.1 1.10.3-1-g6879c78 %c http://aplayer.js.org \\n\",\"color: #fadfa3; background: #030307; padding:5px 0;\",\"background: #fadfa3; padding:5px 0;\");var Q=K}();var a=s.Z;export{a as default};\n//# sourceMappingURL=APlayer.min.js.map","// extracted by mini-css-extract-plugin\nexport {};","//@ts-ignore\nimport APlayer from 'aplayer';\nimport { loadCSS } from 'fg-loadcss';\nimport { registerOnGlobal } from '../common/sakurairo_global';\nlet aplayers = [];\nfunction initAplayer(element, audio) {\n    const default_option = {\n        container: element,\n        audio: audio,\n        mini: null,\n        fixed: null,\n        autoplay: false,\n        mutex: true,\n        lrcType: 3,\n        listFolded: 1,\n        preload: 'auto',\n        theme: '#2980b9',\n        loop: 'all',\n        order: 'list',\n        volume: null,\n        listMaxHeight: null,\n        customAudioType: null,\n        storageName: 'metingjs'\n    };\n    if (audio.length) {\n        audio[0].lrc || (default_option.lrcType = 0);\n        let d = {};\n        for (const key in default_option) {\n            let key_lowercase = key.toLowerCase();\n            if (element.dataset.hasOwnProperty(key_lowercase) || element.dataset.hasOwnProperty(key) || default_option[key] !== null) {\n                d[key] = element.dataset[key_lowercase] || element.dataset[key] || default_option[key];\n                if ('true' === d[key] || 'false' === d[key]) {\n                    d[key] = 'true' == d[key];\n                }\n            }\n        }\n        aplayers.push(new APlayer(d));\n    }\n    for (let f = 0; f < aplayers.length; f++)\n        try {\n            aplayers[f].lrc.hide();\n        }\n        catch (a) {\n            console.log(a);\n        }\n    let lrcTag = 1;\n    document.querySelector(\".aplayer.aplayer-fixed\").addEventListener(\"click\", () => {\n        if (lrcTag == 1) {\n            for (let f = 0; f < aplayers.length; f++)\n                try {\n                    aplayers[f].lrc.show();\n                }\n                catch (a) {\n                    console.log(a);\n                }\n        }\n        lrcTag = 2;\n    });\n    let apSwitchTag = 0, aplayer_body = document.querySelector(\".aplayer.aplayer-fixed .aplayer-body\"), aplayer_minisw = document.querySelector(\".aplayer-miniswitcher\");\n    aplayer_body && aplayer_body.classList.add(\"ap-hover\");\n    aplayer_minisw && aplayer_minisw.addEventListener(\"click\", () => {\n        if (apSwitchTag == 0) {\n            aplayer_body && aplayer_body.classList.remove(\"ap-hover\");\n            document.getElementById(\"secondary\") && document.getElementById(\"secondary\").classList.add(\"active\");\n            apSwitchTag = 1;\n        }\n        else {\n            aplayer_body && aplayer_body.classList.add(\"ap-hover\");\n            document.getElementById(\"secondary\") && document.getElementById(\"secondary\").classList.remove(\"active\");\n            apSwitchTag = 0;\n        }\n    });\n}\nexport function destroyAllAplayer() {\n    try {\n        for (let i = 0; i < aplayers.length; i++) {\n            aplayers[i].destroy();\n        }\n        aplayers = [];\n    }\n    catch (reason) {\n        console.warn(reason);\n    }\n}\n/**\n * @return 返回曾在播放的aplayer列表\n */\nexport function pauseAllPlayer() {\n    const playingAplayer = [];\n    try {\n        for (const player of aplayers) {\n            if (!player.paused) {\n                playingAplayer.push(player);\n            }\n            player.pause();\n        }\n    }\n    catch (reason) {\n        console.warn(reason);\n    }\n    return playingAplayer;\n}\nexport function aplayerInit() {\n    //document.addEventListener('DOMContentLoaded', loadMeting, /* !1 *//**false与什么都不传递作用相等 */);\n    if (mashiro_option.ext_shared_lib) {\n        loadCSS(\"https://cdn.jsdelivr.net/gh/Fuukei/APlayer@1.10.2/dist/APlayer.min.css\");\n    }\n    else {\n        //@ts-ignore\n        import(/* webpackMode: \"eager\" */ 'aplayer/dist/APlayer.min.css');\n    }\n    let meting_api_path;\n    if (typeof meting_api == 'string') {\n        meting_api_path = new URL(meting_api);\n    }\n    else {\n        meting_api_path = new URL(mashiro_option.meting_api_url);\n        meting_api_path.searchParams.set('_wpnonce', Poi.nonce);\n    }\n    destroyAllAplayer();\n    let collection = document.getElementsByClassName('aplayer');\n    for (let e = 0; e < collection.length; e++) {\n        let element = collection[e], id = element.dataset.id;\n        if (id) {\n            const api_path = element.dataset.api ? new URL(element.dataset.api) : meting_api_path;\n            const params = api_path.searchParams;\n            params.set('server', element.dataset.server);\n            params.set('type', element.dataset.type);\n            params.set('id', element.dataset.id);\n            fetch(api_path.toString())\n                .then(async (resp) => {\n                if (resp.ok) {\n                    initAplayer(element, await resp.json());\n                }\n                else {\n                    console.warn(`(APlayer) HTTP ${resp.status}:${resp.statusText}`);\n                }\n            })\n                .catch(console.error);\n        }\n        else if (element.dataset.url) {\n            const playlist_info = [{\n                    name: element.dataset.name || element.dataset.title || 'Audio name',\n                    artist: element.dataset.artist || element.dataset.author || 'Audio artist',\n                    url: element.dataset.url,\n                    cover: element.dataset.cover || element.dataset.pic,\n                    lrc: element.dataset.lrc,\n                    type: element.dataset.type || 'auto'\n                }];\n            initAplayer(element, playlist_info);\n        }\n    }\n    registerMethods();\n}\nfunction loadAPlayer(playlist) {\n    let collection = document.getElementsByClassName('aplayer');\n    for (const e of collection) {\n        initAplayer(e, playlist);\n    }\n}\nfunction registerMethods() {\n    registerOnGlobal('pauseAllPlayer', pauseAllPlayer);\n    registerOnGlobal('destroyAllAplayer', destroyAllAplayer);\n    registerOnGlobal('loadAPlayer', loadAPlayer);\n    registerOnGlobal('getAPlayers', () => aplayers);\n}\n"],"names":[],"sourceRoot":""}